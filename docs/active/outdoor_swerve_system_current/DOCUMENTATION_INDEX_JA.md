# 屋外車椅子搬送ロボット - 完全ドキュメントインデックス

**プロジェクト:** 屋外優先車椅子搬送ロボットシステム
**バージョン:** 1.0
**日付:** 2025-12-15
**ステータス:** 包括的ドキュメント完成

---

## 📚 ドキュメント構成

### ✅ フェーズ1: 要件（完了 - 22ファイル）

**01_REQUIREMENTS/**
- ✅ SYSTEM_REQUIREMENTS.md + JA（92のシステムレベル要件）
- ✅ SWERVE_DRIVE_REQUIREMENTS.md + JA（100以上の要件）
- ✅ DOCKING_SYSTEM_REQUIREMENTS.md + JA（161の要件）
- ✅ SAFETY_REQUIREMENTS.md + JA（180の要件、78%がクリティカル）
- ✅ NAVIGATION_REQUIREMENTS.md + JA（136の要件）
- ✅ PERCEPTION_REQUIREMENTS.md + JA（119の要件）
- ✅ HARDWARE_REQUIREMENTS.md + JA（140の要件）
- ✅ SOFTWARE_REQUIREMENTS.md + JA（118の要件）
- ✅ PERFORMANCE_REQUIREMENTS.md + JA（47の要件）
- ✅ INTERFACE_REQUIREMENTS.md + JA（22のインターフェース）
- ✅ UI_EHMI_REQUIREMENTS.md + JA（41の要件）
- ✅ REQUIREMENTS_TRACEABILITY_MATRIX.md + JA（100%カバレッジ、92/92要件追跡済み）

**合計:** 全サブシステムで1,064以上の個別要件を文書化

---

### ✅ フェーズ2: アーキテクチャ（完了 - 14ファイル）

**02_ARCHITECTURE/**
- ✅ SWERVE_DRIVE_ARCHITECTURE.md + JA
  - コンポーネントアーキテクチャ、ROS 2ノード、IK/FKアルゴリズム、Nav2統合

- ✅ DOCKING_SUBSYSTEM_ARCHITECTURE.md + JA
  - ArUco検出パイプライン、ビジュアルサーボ、状態マシン、デュアルカメラフュージョン

- ✅ NAVIGATION_SUBSYSTEM_ARCHITECTURE.md + JA
  - 2フェーズナビゲーション（オフラインマッピング + オンライン自己位置推定）、NDT、Nav2統合

- ✅ PERCEPTION_SUBSYSTEM_ARCHITECTURE.md + JA
  - 3D LiDAR処理、バイナリ障害物検出、PCLパイプライン、CPUのみ

- ✅ SAFETY_SUBSYSTEM_ARCHITECTURE.md + JA
  - 多層防御（4層）、非常停止、ヘルスモニタリング、ウォッチドッグ

- ✅ UI_ARCHITECTURE.md + JA
  - React 18 + Next.js 14、rosbridge WebSocket、キオスクモード、多言語

- ✅ EHMI_ARCHITECTURE.md + JA
  - ESP32-S3、LEDストリップ/マトリックス、I2S音声、Dezyne状態マシン、車椅子状態21〜28

---

### ✅ フェーズ3: 設計（完了 - 14ファイル）

**03_DESIGN/**
- ✅ SWERVE_DRIVE_CONTROLLER_DESIGN.md + JA
  - 完全なクラス図、メソッド仕様、シーケンス図、状態マシン

- ✅ DOCKING_CONTROLLER_DESIGN.md + JA
  - ArUco検出器クラス構造、ビジュアルサーボPIDコントローラー、状態マシン実装

- ✅ NAVIGATION_CONTROLLER_DESIGN.md + JA
  - Nav2プラグイン統合、経路計画アルゴリズム、ルートマネージャー

- ✅ PERCEPTION_PIPELINE_DESIGN.md + JA
  - PCLフィルターチェーン、地面除去アルゴリズム、コストマップ統合

- ✅ SAFETY_MONITOR_DESIGN.md + JA
  - ウォッチドッグ実装、ヘルスチェックアルゴリズム、故障検出

- ✅ UI_COMPONENTS_DESIGN.md + JA
  - Reactコンポーネント構造、rosbridgeクライアント、状態管理

- ✅ EHMI_FIRMWARE_DESIGN.md + JA
  - ESP32ファームウェアアーキテクチャ、LED制御、音声再生

---

### ✅ フェーズ4: インターフェース仕様（完了 - 4ファイル）

**04_INTERFACES/**
- ✅ ROS2_TOPICS.md + JA
  - メッセージタイプ、QoSポリシー、パブリッシャー/サブスクライバー付き完全トピックリスト

- ✅ INTERFACE_SPECIFICATIONS_COMPLETE.md + JA
  - サービス定義、アクション定義、シリアルプロトコル、完全なROS 2インターフェース

---

### ✅ フェーズ5: 開発ドキュメント（完了 - 2ファイル）

**05_DEVELOPMENT/**
- ✅ COMPLETE_DEVELOPMENT_GUIDE.md + JA
  - Ubuntu 22.04インストール、ROS 2 Humbleセットアップ、依存関係、IDEの設定
  - colconビルドコマンド、CMakeLists.txt設定、package.xmlセットアップ
  - C++スタイルガイド、Pythonスタイルガイド、ROS 2規約、ドキュメント標準
  - ブランチ戦略、コミットメッセージ形式、PRプロセス、コードレビューチェックリスト
  - ROS 2デバッグツール（rqt、rviz、ros2 cli）、GDB使用、ロギングベストプラクティス

---

### ✅ フェーズ6: テストドキュメント（完了 - 4ファイル）

**06_TESTING/**
- ✅ COMPLETE_TESTING_GUIDE.md + JA
  - gtestフレームワーク、テストカバレッジ要件（80%）、モックオブジェクト
  - サブシステム統合テスト、ROS 2 launchテスト、シミュレートハードウェア
  - 屋外テスト手順、安全性プロトコル、データ収集方法
  - MVP受入基準、本番受入基準、パフォーマンスベンチマーク
  - CI/CDパイプライン、自動テスト実行、カバレッジレポート

- ✅ COMPLETE_TESTING_PLAN_WITH_TIMELINE.md + JA **（新規）**
  - 3層テスト戦略（単体 → 統合 → フィールド）
  - サブシステムごとのテストタイムライン
  - 376以上のテストケース（88% AI生成）
  - コードカバレッジ目標（87%以上ライン、74%以上ブランチ）
  - フィールドテストシナリオと受入基準
  - AI加速テスト生成と分析

---

### ✅ フェーズ7: デプロイメントドキュメント（完了 - 2ファイル）

**07_DEPLOYMENT/**
- ✅ COMPLETE_DEPLOYMENT_GUIDE.md + JA
  - 部品表（BOM）、組立手順、配線図
  - オペレーティングシステムインストール、ROS 2パッケージインストール、設定
  - LiDAR校正、カメラ校正、IMU校正、ホイールエンコーダー校正
  - 起動手順、シャットダウン手順、緊急手順、トラブルシューティング
  - 定期メンテナンススケジュール、コンポーネント交換、ソフトウェア更新

---

### ✅ タイムラインと計画（完了 - 4ファイル）

**TIMELINE_AND_PLANNING/**
- ✅ PROJECT_TIMELINE_WITH_AI.md + JA **（新規）**
  - AI加速開発タイムライン（24週間、12スプリント）
  - サブシステムごとの開発期間（AI加速係数付き）
  - 並行作業の機会
  - リソース配分（1〜2名の開発者 + テスター）
  - リスク管理と緊急時対応計画

- ✅ COMPLETE_TESTING_PLAN_WITH_TIMELINE.md + JA **（新規）**
  - タイムライン付き包括的テスト計画
  - 3層テスト戦略の詳細
  - サブシステムごとのテストタイムライン
  - 376以上のテストケース（88% AI生成、12%手動改良）
  - フィールド検証シナリオ

---

## 📊 ドキュメント統計

### 完成ドキュメント
- **総ファイル数:** 65ファイル（英語 + 日本語版 - 完全バイリンガルドキュメント）
- **総ページ数:** 約1,000ページ以上（推定）
- **総要件数:** 1,064以上の個別要件
- **トレーサビリティ:** 100%（92のシステム要件 → 1,064以上のサブシステム要件）

### ドキュメントカバレッジ
- ✅ 要件: 100%完了（22ファイル - 英語 + 日本語）
- ✅ アーキテクチャ: 100%完了（14ファイル - 英語 + 日本語）
- ✅ 設計: 100%完了（14ファイル - 全サブシステム文書化、英語 + 日本語）
- ✅ インターフェース: 100%完了（4ファイル - 完全なROS 2インターフェース仕様、英語 + 日本語）
- ✅ 開発: 100%完了（2ファイル - 完全な開発ガイド、英語 + 日本語）
- ✅ テスト: 100%完了（4ファイル - 完全なテストガイド + タイムライン翻訳付き、英語 + 日本語）
- ✅ デプロイメント: 100%完了（2ファイル - 完全なデプロイメントガイド、英語 + 日本語）
- ✅ **タイムラインと計画: 100%完了（4ファイル - 英語 + 日本語）**
  - `PROJECT_TIMELINE_WITH_AI.md` + `PROJECT_TIMELINE_WITH_AI_JA.md`（AI加速タイムライン）
  - `COMPLETE_TESTING_PLAN_WITH_TIMELINE.md` + `COMPLETE_TESTING_PLAN_WITH_TIMELINE_JA.md`（テスト計画）

### 言語
- **英語:** 全63ドキュメントの主要言語
- **日本語:** 全ドキュメントの完全翻訳（100%バイリンガル）
- **カバレッジ:** 全フェーズで100%バイリンガル（要件、アーキテクチャ、設計、インターフェース、開発、テスト、デプロイメント、タイムラインと計画）

---

## 🎯 文書化された主要技術決定事項

1. **GPSなし:** 保存されたマップ上のNDT自己位置推定（500m上で±10cm）
2. **深層学習なし:** CPUのみのバイナリ障害物検出（GMKtec Nucbox K6制約）
3. **スワーブドライブ:** 新しい全方向移動（ParcelPalにはない）
4. **ParcelPal再利用:** 60〜70%のアーキテクチャ再利用（ナビゲーション、知覚実証済み）
5. **ArUcoドッキング:** ±2〜5mm精度のビジュアルサーボ（合計4〜8マーカー）
6. **多層防御安全性:** 4つの独立した安全性レイヤー
7. **屋外優先:** IP54以上の耐候性、日中のみの自律動作
8. **多言語:** UIとeHMIの英語/日本語/中国語サポート

---

## 🔧 文書化されたハードウェアプラットフォーム

- **コンピュート:** GMKtec Nucbox K6（AMD Ryzen 7 7840HS、32GB RAM、外部GPU**なし**）
- **LiDAR:** 屋外グレード3D LiDAR（IP65以上、モデルTBD）
- **カメラ:** 2台のRGBカメラ（ArUco検出のみ、知覚用**ではない**）
- **IMU:** 9自由度IMU（傾斜補償）
- **ホイール:** 4台の6.5インチホバーボードインホイールモーター（各80W、スワーブドライブ）
- **バッテリー:** ≥48V 20Ah（≥1kWh、4時間以上動作）
- **UI:** 7〜10インチタッチスクリーン（IP65以上フロントパネル、≥400 nits）
- **eHMI:** ESP32-S3 + WS2812B LEDストリップ + HUB75 LEDマトリックス + I2S音声

---

## 📖 このドキュメントの使用方法

### システムエンジニア向け
1. `SYSTEM_REQUIREMENTS.md`から始める - システム全体を理解
2. `REQUIREMENTS_TRACEABILITY_MATRIX.md`を読む - 完全なカバレッジを確認
3. `01_REQUIREMENTS/`のサブシステム要件をレビュー

### ソフトウェア開発者向け
1. `02_ARCHITECTURE/`のサブシステムアーキテクチャを読む
2. `03_DESIGN/`の詳細設計を学ぶ
3. `05_DEVELOPMENT/CODING_STANDARDS.md`のコーディング標準に従う
4. `04_INTERFACES/`のインターフェース仕様に従って実装

### ハードウェアエンジニア向け
1. 完全なBOMのために`HARDWARE_REQUIREMENTS.md`をレビュー
2. `07_DEPLOYMENT/HARDWARE_ASSEMBLY.md`の組立手順に従う
3. `07_DEPLOYMENT/CALIBRATION_PROCEDURES.md`の校正手順を実行

### テストエンジニア向け
1. `06_TESTING/`のテスト計画を学ぶ
2. 単体テスト、統合テスト、フィールドテストを実行
3. `06_TESTING/ACCEPTANCE_CRITERIA.md`の受入基準を確認

### オペレーター向け
1. 日常運用のために`OPERATIONS_MANUAL.md`を読む
2. `MAINTENANCE_GUIDE.md`のメンテナンススケジュールに従う
3. 問題のトラブルシューティングガイドを参照

---

## 🚀 実装ロードマップ（AI加速開発）

**チーム:** 1〜2名の開発者（主に1名） + 1名の専任フィールドテスター
**AIツール:** Claude Code、GitHub Copilot（50〜70%の時間削減）
**スプリント期間:** 2週間
**総期間:** 24週間（12スプリント / 約6ヶ月）

### テスト期間を含む詳細タイムライン

| スプリント | 週 | サブシステム | 開発期間 | テスト期間 | 合計 | 並行作業 |
|--------|-------|-----------|------------|----------------|-------|---------------|
| 1-2 | 1-4 | **スワーブドライブ** | 1.5週間 | 2週間（単体/統合/フィールド） | 3.5週間 | ハードウェア改造（並行） |
| 3-4 | 5-8 | **ナビゲーション** | 1週間 | 2.5週間（単体/統合/フィールド） | 3.5週間 | - |
| 5-6 | 9-12 | **知覚** | 1週間 | 2週間（単体/統合/フィールド） | 3週間 | 第8週開始可能 |
| 7-8 | 13-16 | **ドッキング** | 1.5週間 | 2.5週間（単体/統合/フィールド） | 4週間 | - |
| 9-10 | 15-18 | **安全性** | 1週間 | 2週間（単体/統合/フィールド） | 3週間 | ドッキング第16週以降と重複 |
| 11-12 | 17-20 | **UI** | 1.5週間 | 1.5週間（単体/統合/フィールド） | 3週間 | 安全性第17〜18週と重複 |
| 13 | 19-21 | **eHMI** | 1週間 | 1.5週間（単体/統合/フィールド） | 2.5週間 | UI第19〜20週と重複 |
| 14-15 | 21-24 | **統合** | 2週間（システム統合） | 2週間（フィールド検証） | 4週間 | 全チーム |

### 主要マイルストーン

| 週 | マイルストーン | 成果物 | 受入基準 |
|------|-----------|-------------|---------------------|
| 4 | スワーブドライブMVP | 機能的スワーブドライブ | 屋外動作検証（50m上で±5cm） |
| 8 | ナビゲーションMVP | 500m自律ナビゲーション | NDT自己位置推定±10cm、ウェイポイントナビゲーション動作 |
| 12 | 知覚MVP | 障害物検出 | >90%検出率（屋外） |
| 16 | ドッキングMVP | 高精度ドッキング | ±5mm精度、>90%成功率 |
| 18 | 安全性MVP | 多層防御安全性 | E-Stop <100ms、ウォッチドッグモニタリング |
| 20 | UI MVP | タッチスクリーンUI | ミッションコントロール + ステータスダッシュボード |
| 21 | eHMI MVP | 外部通信 | 8つの車椅子状態のLED + 音声 |
| 24 | **システム準備完了** | **本番対応システム** | **>90%ミッション成功率、MVP受入基準達成** |

### AI加速の影響

**従来 vs. AI加速開発:**
- **コード生成:** 3〜5倍高速（AIがROS 2ノード、アルゴリズム、CMakeListsを記述）
- **単体テスト:** 4〜6倍高速（AIが80%以上のテストケースを生成）
- **ドキュメント:** 3〜4倍高速（AIがインラインドキュメントを生成）
- **デバッグ:** 2〜3倍高速（AI支援トラブルシューティング）
- **全体:** 2.5〜3倍高速な開発

**総テスト:** 376以上のテストケース（88% AI生成、12%手動改良）

### 詳細タイムラインドキュメント

📄 **完全なタイムライン:** `PROJECT_TIMELINE_WITH_AI.md` + `PROJECT_TIMELINE_WITH_AI_JA.md`を参照
- サブシステムごとの開発期間（AI加速付き）
- 並行作業の機会
- リソース配分（1〜2名の開発者 + テスター）
- リスク管理と緊急時対応計画

📄 **テスト計画:** `COMPLETE_TESTING_PLAN_WITH_TIMELINE.md` + `COMPLETE_TESTING_PLAN_WITH_TIMELINE_JA.md`を参照
- 3層テスト戦略（単体 → 統合 → フィールド）
- サブシステムごとのテストタイムライン
- コードカバレッジ目標（87%以上ライン、74%以上ブランチ）
- フィールドテストシナリオと受入基準

---

**ドキュメントステータス:** 継続更新ドキュメント - ドキュメント進行に応じて更新
**最終更新:** 2025-12-15
**管理者:** ドキュメントチーム

---

## 📁 ドキュメント命名規則

- **要件:** `<SUBSYSTEM>_REQUIREMENTS.md`
- **アーキテクチャ:** `<SUBSYSTEM>_ARCHITECTURE.md`
- **設計:** `<COMPONENT>_DESIGN.md`
- **日本語:** 同じ名前に`_JA.md`接尾辞
- **全て大文字:** メインドキュメント用（SYSTEM_REQUIREMENTS.md）
- **タイトルケース:** サブシステムドキュメント用（Swerve_Drive_Architecture.md）

---

**このインデックスは、屋外車椅子搬送ロボットドキュメント構造の完全な概要を提供します。すべてのドキュメントは一貫性のために同じ形式と詳細レベルに従っています。**
