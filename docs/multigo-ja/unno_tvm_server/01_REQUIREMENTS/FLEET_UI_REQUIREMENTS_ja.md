# フリート管理UI要件

**プロジェクト:** 屋外車椅子輸送ロボット - マルチチームシステム
**文書タイプ:** フリート管理要件仕様
**チーム責任:** Unno（フリート管理）
**ステータス:** 第4週 - 活発な開発
**日付:** 2025-12-16
**バージョン:** 1.0

---

## 文書管理

| バージョン | 日付 | 作成者 | 変更内容 |
|---------|------|--------|---------|
| 1.0 | 2025-12-16 | Unnoチーム | フリート管理UI要件の初版 |

**関連文書:**
- FLEET_MANAGEMENT_REQUIREMENTS.md（バックエンドロジック、ミッション管理）
- TVM_SERVER_REQUIREMENTS.md（サーバーアーキテクチャ）
- USER_ROLE_MANAGEMENT_REQUIREMENTS.md（認証、RBAC）
- TVM_API_SPECIFICATION.md（RESTエンドポイント、WebSocket）
- RESERVATION_SYSTEM_REQUIREMENTS.md（予約UI統合）

---

## 1. 目的と範囲

本文書は、車椅子輸送ロボットフリートを監視および制御するためのブラウザベースダッシュボードである**フリート管理WebUI**の要件を規定する。UIは、異なるアクセスレベルを持つ複数のユーザーロール（Admin、Operator、Nurse、Caregiver）に対応する。

**設計原則:**
- **レスポンシブデザイン**（デスクトップ、タブレット、モバイル）
- **リアルタイム更新**（ライブテレメトリのWebSocket）
- **ロールベースビュー**（異なるユーザー向けの異なるダッシュボード）
- **アクセシビリティ**（高齢ユーザー向けのWCAG 2.1 AA準拠）

**技術スタック:**
- フロントエンド: React 18 + TypeScript
- 状態管理: Redux Toolkit + RTK Query
- UIフレームワーク: Material-UI（MUI）v5
- リアルタイム: Socket.io-client
- マップ: Leaflet.js（2Dマップ視覚化）

---

## 2. ダッシュボードと概要要件

### 2.1 メインダッシュボード

| ID | 要件 | 優先度 | 受入基準 |
|----|-------------|----------|---------------------|
| FLEET-UI-DASH-001 | システムはマップ上にすべての車両を表示するフリート概要ダッシュボードを表示しなければならない | CRITICAL | すべての車両がマップに表示される |
| FLEET-UI-DASH-002 | ダッシュボードは車両位置をリアルタイムで更新しなければならない（<5秒レイテンシ） | CRITICAL | 5秒以内に位置更新 |
| FLEET-UI-DASH-003 | ダッシュボードは車両ステータスを表示しなければならない: idle、navigating、docking、transporting、charging、error | CRITICAL | ステータスが色分けで表示される |
| FLEET-UI-DASH-004 | ダッシュボードはフリート統計を表示しなければならない: 総車両数、アクティブミッション、今日の完了、エラー | HIGH | 統計がリアルタイムで更新される |
| FLEET-UI-DASH-005 | ダッシュボードはすべての車両のバッテリーレベルを色警告付きで表示しなければならない（<30%赤、<50%黄色） | CRITICAL | バッテリー警告が表示される |
| FLEET-UI-DASH-006 | ダッシュボードはステータスによる車両フィルタリングをサポートしなければならない（idleのみ、activeのみなど） | MEDIUM | フィルタリングが機能的 |
| FLEET-UI-DASH-007 | ダッシュボードはマップレイヤーを表示しなければならない: 道路、建物、POI、ジオフェンス、充電ステーション | HIGH | マップレイヤー切り替えが利用可能 |
| FLEET-UI-DASH-008 | ダッシュボードはマップのズームとパンをサポートしなければならない（マウスホイール、タッチジェスチャー） | HIGH | マップナビゲーションがスムーズ |

**成功基準:** ダッシュボードは2秒以内にロード、リアルタイム更新は<5秒レイテンシ

### 2.2 車両詳細ビュー

| ID | 要件 | 優先度 | 受入基準 |
|----|-------------|----------|---------------------|
| FLEET-UI-DETAIL-001 | 車両マーカーをクリックすると詳細な車両情報パネルが開くようにしなければならない | CRITICAL | パネルが車両データとともに開く |
| FLEET-UI-DETAIL-002 | 車両詳細パネルは以下を表示しなければならない: 名前、バッテリー%、速度、現在のタスク、ETA、エラー | CRITICAL | すべてのフィールドが入力される |
| FLEET-UI-DETAIL-003 | 車両詳細パネルはマップに現在のナビゲーション経路を表示しなければならない（色付き線として） | HIGH | 経路がマップに表示される |
| FLEET-UI-DETAIL-004 | 車両詳細パネルはセンサーステータスを表示しなければならない: LiDAR、カメラ、IMU、GPS（緑=OK、赤=故障） | HIGH | センサーステータスインジケーターが表示される |
| FLEET-UI-DETAIL-005 | 車両詳細パネルは最近のアクティビティログを表示しなければならない（最新10イベント） | MEDIUM | アクティビティログが表示される |
| FLEET-UI-DETAIL-006 | 車両詳細パネルはクイックアクションを提供しなければならない: 充電に送る、ミッションキャンセル、緊急停止 | CRITICAL | クイックアクションが機能的 |

---

## 3. ミッション管理UI要件

### 3.1 ミッション作成

| ID | 要件 | 優先度 | 受入基準 |
|----|-------------|----------|---------------------|
| FLEET-UI-MISSION-001 | システムはミッション作成ウィザードを開く "ミッション作成" ボタンを提供しなければならない | CRITICAL | ボタンがウィザードを開く |
| FLEET-UI-MISSION-002 | ミッションウィザードはミッションタイプの選択を許可しなければならない: walking_assistance または medicine_delivery | CRITICAL | ミッションタイプが選択可能 |
| FLEET-UI-MISSION-003 | ミッションウィザードはマップをクリックしてピックアップとドロップオフ場所を設定できるようにしなければならない | CRITICAL | マップクリックで場所が設定される |
| FLEET-UI-MISSION-004 | ミッションウィザードは推定移動時間と距離を表示しなければならない | HIGH | ETAが計算され表示される |
| FLEET-UI-MISSION-005 | ミッションウィザードは優先度の選択を許可しなければならない: routine、urgent、emergency | CRITICAL | 優先度レベルが選択可能 |
| FLEET-UI-MISSION-006 | ミッションウィザードは将来の時間にミッションをスケジュールできるようにしなければならない | MEDIUM | スケジュールされたミッションがサポートされる |
| FLEET-UI-MISSION-007 | ミッションウィザードは場所を検証しなければならない（運用エリア内でなければならない） | CRITICAL | 無効な場所が拒否される |
| FLEET-UI-MISSION-008 | ミッションウィザードは利用可能な車両を表示し最適な車両を自動割り当てしなければならない | HIGH | 自動割り当てが機能的 |

### 3.2 ミッション監視

| ID | 要件 | 優先度 | 受入基準 |
|----|-------------|----------|---------------------|
| FLEET-UI-MISSION-MON-001 | システムはアクティブミッションリストをステータス付きで表示しなければならない: pending、in_progress、completed、cancelled | CRITICAL | ミッションリストが表示される |
| FLEET-UI-MISSION-MON-002 | アクティブミッションは進捗バーを表示しなければならない（例: "ピックアップに向かっています - 30%完了"） | HIGH | 進捗バーが表示される |
| FLEET-UI-MISSION-MON-003 | システムはリストからミッションを選択するとマップ上の車両と経路を強調表示しなければならない | HIGH | 選択がマップに強調表示される |
| FLEET-UI-MISSION-MON-004 | システムはアクティブミッションのキャンセルを許可しなければならない（確認ダイアログが必要） | CRITICAL | ミッションキャンセルが機能的 |
| FLEET-UI-MISSION-MON-005 | システムはアクティブミッションのETAと残り距離を表示しなければならない | HIGH | ETAと距離が表示される |
| FLEET-UI-MISSION-MON-006 | システムはミッション失敗時にオペレーターに警告しなければならない（視覚+音声通知） | CRITICAL | 失敗警告が表示される |

### 3.3 ミッション履歴

| ID | 要件 | 優先度 | 受入基準 |
|----|-------------|----------|---------------------|
| FLEET-UI-MISSION-HIST-001 | システムは日付範囲フィルター付きミッション履歴ビューを提供しなければならない | MEDIUM | フィルター付き履歴ビュー |
| FLEET-UI-MISSION-HIST-002 | ミッション履歴は以下を表示しなければならない: ミッションID、日時、タイプ、車両、ピックアップ/ドロップオフ、継続時間、結果 | MEDIUM | 履歴のすべてのフィールド |
| FLEET-UI-MISSION-HIST-003 | ミッション履歴は車両ID、日付、ミッションタイプでの検索をサポートしなければならない | LOW | 検索が機能的 |
| FLEET-UI-MISSION-HIST-004 | ミッション履歴はレポート用にCSVへのエクスポートを許可しなければならない | LOW | CSVエクスポートが機能的 |

---

## 4. 予約システムUI要件

### 4.1 予約カレンダービュー

| ID | 要件 | 優先度 | 受入基準 |
|----|-------------|----------|---------------------|
| FLEET-UI-RESV-001 | システムは日次、週次、月次ビューを表示する予約カレンダーを表示しなければならない | HIGH | カレンダービューが利用可能 |
| FLEET-UI-RESV-002 | カレンダーはタイプ別に色分けされた予約を表示しなければならない: 歩行（青）、薬剤（緑） | HIGH | 色分けが適用される |
| FLEET-UI-RESV-003 | カレンダーは繰り返しアイコン付きの繰り返し予約を表示しなければならない | MEDIUM | 繰り返しアイコンが表示される |
| FLEET-UI-RESV-004 | カレンダースロットをクリックすると予約作成フォームが開くようにしなければならない | HIGH | クリックでフォームが開く |

### 4.2 予約管理

| ID | 要件 | 優先度 | 受入基準 |
|----|-------------|----------|---------------------|
| FLEET-UI-RESV-MGT-001 | 予約フォームは以下のフィールドを含めなければならない: 患者名、タイプ、ピックアップ/ドロップオフ、日時、優先度、繰り返しパターン | CRITICAL | フォームのすべてのフィールド |
| FLEET-UI-RESV-MGT-002 | システムは予約競合を検証しなければならない（同じ患者が同じ時間） | CRITICAL | 競合が検出されフラグが立つ |
| FLEET-UI-RESV-MGT-003 | システムは既存の予約の変更を許可しなければならない（確認付き） | HIGH | 変更が機能的 |
| FLEET-UI-RESV-MGT-004 | システムは予約のキャンセルを許可しなければならない（繰り返しの場合は単一またはシリーズをキャンセル） | HIGH | キャンセルが機能的 |
| FLEET-UI-RESV-MGT-005 | システムは予約変更時に影響を受けるユーザーにメール/SMS経由で通知しなければならない | MEDIUM | 通知が送信される |

---

## 5. 車両管理UI要件

### 5.1 車両フリートリスト

| ID | 要件 | 優先度 | 受入基準 |
|----|-------------|----------|---------------------|
| FLEET-UI-VEHICLE-001 | システムは列付き車両リストテーブルを表示しなければならない: ID、名前、ステータス、バッテリー、位置、最終確認 | CRITICAL | 車両リストが表示される |
| FLEET-UI-VEHICLE-002 | 車両リストは任意の列でソートを許可しなければならない（昇順/降順） | MEDIUM | ソートが機能的 |
| FLEET-UI-VEHICLE-003 | 車両リストはステータスでフィルタリングを許可しなければならない: online、offline、error、charging | HIGH | フィルタリングが機能的 |
| FLEET-UI-VEHICLE-004 | 車両リストはオフライン車両を "最終確認 X分前" とともにグレーで表示しなければならない | HIGH | オフラインステータスが明確 |

### 5.2 車両構成

| ID | 要件 | 優先度 | 受入基準 |
|----|-------------|----------|---------------------|
| FLEET-UI-VEHICLE-CFG-001 | Adminはフリートに新しい車両を追加できなければならない（車両ID、名前、機能を入力） | HIGH | 車両追加が機能的 |
| FLEET-UI-VEHICLE-CFG-002 | Adminは車両設定を編集できなければならない: 名前、運用エリア、最大速度、充電スケジュール | MEDIUM | 設定編集が機能的 |
| FLEET-UI-VEHICLE-CFG-003 | Adminは車両をサービス停止としてマークできなければならない（ミッション割り当てから除外） | HIGH | サービス停止ステータスが機能的 |
| FLEET-UI-VEHICLE-CFG-004 | Adminはフリートから車両を削除できなければならない（確認が必要） | LOW | 確認付き削除が機能的 |

### 5.3 車両診断

| ID | 要件 | 優先度 | 受入基準 |
|----|-------------|----------|---------------------|
| FLEET-UI-VEHICLE-DIAG-001 | システムはセンサー健全性、エラーコード、ログを含む車両診断ページを表示しなければならない | HIGH | 診断ページが表示される |
| FLEET-UI-VEHICLE-DIAG-002 | 診断は重大度付きエラーコードを表示しなければならない: info、warning、error、critical | HIGH | エラーコードが色分けされる |
| FLEET-UI-VEHICLE-DIAG-003 | 診断はタイムスタンプ、レベル、メッセージ付きの最近のログを表示しなければならない（最新100エントリ） | MEDIUM | ログが表示される |
| FLEET-UI-VEHICLE-DIAG-004 | 診断は完全なログをZIPファイルとしてダウンロードできるようにしなければならない | LOW | ログダウンロードが機能的 |

---

## 6. ユーザー管理UI要件

### 6.1 ユーザーリストとロール

| ID | 要件 | 優先度 | 受入基準 |
|----|-------------|----------|---------------------|
| FLEET-UI-USER-001 | Adminは列付きすべてのユーザーを表示するユーザー管理ページにアクセスしなければならない: 名前、メール、ロール、ステータス | HIGH | ユーザーリストが表示される |
| FLEET-UI-USER-002 | Adminは新しいユーザーアカウントを作成できなければならない（名前、メール、ロール、初期パスワードを入力） | HIGH | ユーザー作成が機能的 |
| FLEET-UI-USER-003 | Adminはユーザーロールを編集できなければならない: Admin、Operator、Nurse、Caregiver | HIGH | ロール編集が機能的 |
| FLEET-UI-USER-004 | Adminはユーザーアカウントを無効化できなければならない（ログイン無効化、データ保持） | HIGH | 無効化が機能的 |
| FLEET-UI-USER-005 | Adminはユーザーパスワードをリセットできなければならない（メール経由でリセットリンク送信） | MEDIUM | パスワードリセットが機能的 |

### 6.2 ユーザーアクティビティログ

| ID | 要件 | 優先度 | 受入基準 |
|----|-------------|----------|---------------------|
| FLEET-UI-USER-AUDIT-001 | Adminはユーザーアクションを表示する監査ログにアクセスしなければならない: ログイン、ログアウト、ミッション作成、設定変更 | HIGH | 監査ログが表示される |
| FLEET-UI-USER-AUDIT-002 | 監査ログは以下を含めなければならない: タイムスタンプ、ユーザー、アクション、IPアドレス、結果（成功/失敗） | HIGH | 監査ログのすべてのフィールド |
| FLEET-UI-USER-AUDIT-003 | 監査ログはユーザー、アクションタイプ、日付範囲でフィルタリングをサポートしなければならない | MEDIUM | フィルタリングが機能的 |

---

## 7. 警告と通知UI要件

| ID | 要件 | 優先度 | 受入基準 |
|----|-------------|----------|---------------------|
| FLEET-UI-ALERT-001 | システムは最近の警告を表示する通知パネルを表示しなければならない（最新20件） | CRITICAL | 通知パネルが表示される |
| FLEET-UI-ALERT-002 | 警告は分類されなければならない: info（青）、warning（黄色）、error（赤）、critical（点滅赤） | CRITICAL | 色分けが適用される |
| FLEET-UI-ALERT-003 | 重大警告はブラウザ通知をトリガーしなければならない（許可が付与されている場合）と音声ビープ | CRITICAL | ブラウザ通知がトリガーされる |
| FLEET-UI-ALERT-004 | システムは通知アイコンに警告カウントバッジを表示しなければならない（例: "🔔 5"） | HIGH | バッジカウントが表示される |
| FLEET-UI-ALERT-005 | 警告をクリックすると関連ページに移動しなければならない（例: 車両詳細、ミッション詳細） | HIGH | ナビゲーションが機能的 |
| FLEET-UI-ALERT-006 | Operatorは警告を確認/解除できなければならない | MEDIUM | 確認アクションが機能的 |
| FLEET-UI-ALERT-007 | システムは重大度とカテゴリによる警告フィルタリングをサポートしなければならない | LOW | フィルタリングが機能的 |

**警告タイプ:**
- 車両オフライン（>2分）
- バッテリー低下（<30%）
- ミッション失敗（ナビゲーション、ドッキング、タイムアウト）
- 緊急停止押下
- センサー故障検出
- ジオフェンス違反

---

## 8. 設定と構成UI要件

### 8.1 システム設定

| ID | 要件 | 優先度 | 受入基準 |
|----|-------------|----------|---------------------|
| FLEET-UI-SETTINGS-001 | Adminはセクション付きシステム設定ページにアクセスしなければならない: 一般、マップ、通知、統合 | MEDIUM | 設定ページがアクセス可能 |
| FLEET-UI-SETTINGS-002 | 一般設定は以下を含めなければならない: システム名、タイムゾーン、言語（EN/JP）、テーマ（light/dark） | MEDIUM | 設定が編集可能 |
| FLEET-UI-SETTINGS-003 | マップ設定は以下を含めなければならない: デフォルトズームレベル、マッププロバイダー（OpenStreetMap/Google）、中心座標 | LOW | マップ設定が編集可能 |
| FLEET-UI-SETTINGS-004 | 通知設定は以下を含めなければならない: メール警告有効化、SMS警告有効化、警告しきい値 | MEDIUM | 通知設定が編集可能 |

### 8.2 ジオフェンス管理

| ID | 要件 | 優先度 | 受入基準 |
|----|-------------|----------|---------------------|
| FLEET-UI-GEOFENCE-001 | Adminはマップにジオフェンスを描画できなければならない（ポリゴンツール） | HIGH | ジオフェンス描画が機能的 |
| FLEET-UI-GEOFENCE-002 | ジオフェンスは分類されなければならない: operational_area（許可）、keep_out（禁止） | HIGH | ジオフェンスタイプがサポートされる |
| FLEET-UI-GEOFENCE-003 | システムはラベル付きですべてのジオフェンスをマップに表示しなければならない | HIGH | ジオフェンスが表示される |
| FLEET-UI-GEOFENCE-004 | Adminは既存のジオフェンスを編集/削除できなければならない | MEDIUM | 編集が機能的 |

---

## 9. 分析とレポートUI要件

### 9.1 フリート分析ダッシュボード

| ID | 要件 | 優先度 | 受入基準 |
|----|-------------|----------|---------------------|
| FLEET-UI-ANALYTICS-001 | システムは時間範囲セレクター付き分析ダッシュボードを提供しなければならない（今日、週、月、カスタム） | MEDIUM | 分析ダッシュボードが表示される |
| FLEET-UI-ANALYTICS-002 | ダッシュボードはチャートを表示しなければならない: 1日あたりのミッション、車両利用率%、平均ミッション継続時間 | MEDIUM | チャートが正しくレンダリングされる |
| FLEET-UI-ANALYTICS-003 | ダッシュボードはKPIを表示しなければならない: 完了したミッション総数、成功率%、総移動距離 | MEDIUM | KPIが正しく計算される |
| FLEET-UI-ANALYTICS-004 | ダッシュボードは車両効率を表示しなければならない: バッテリーサイクル、充電時間、運用時間 | LOW | 効率メトリクスが表示される |

### 9.2 レポート

| ID | 要件 | 優先度 | 受入基準 |
|----|-------------|----------|---------------------|
| FLEET-UI-REPORT-001 | AdminはPDFレポートを生成できなければならない: 日次サマリー、週次サマリー、月次サマリー | LOW | PDF生成が機能的 |
| FLEET-UI-REPORT-002 | レポートは以下を含めなければならない: ミッション統計、車両ステータス、発生エラー、ユーザーアクティビティ | LOW | レポート内容が包括的 |
| FLEET-UI-REPORT-003 | システムは自動レポート生成のスケジューリングを許可しなければならない（メール配信） | LOW | スケジュールされたレポートが機能的 |

---

## 10. モバイルレスポンシブデザイン要件

| ID | 要件 | 優先度 | 受入基準 |
|----|-------------|----------|---------------------|
| FLEET-UI-MOBILE-001 | UIはデスクトップ（1920×1080）、タブレット（1024×768）、モバイル（375×667）で完全にレスポンシブでなければならない | HIGH | レスポンシブブレークポイントが機能的 |
| FLEET-UI-MOBILE-002 | モバイルビューは簡素化されたダッシュボードを表示しなければならない（車両数、マップ、ミッションリスト） | HIGH | モバイルダッシュボードが最適化される |
| FLEET-UI-MOBILE-003 | モバイルビューはタッチジェスチャーをサポートしなければならない: タップ、スワイプ、マップのピンチズーム | HIGH | タッチジェスチャーが機能的 |
| FLEET-UI-MOBILE-004 | モバイルビューは重要でないUI要素を非表示にしなければならない（分析、詳細ログ） | MEDIUM | モバイルUIが簡素化される |

---

## 11. アクセシビリティ要件（WCAG 2.1 AA）

| ID | 要件 | 優先度 | 受入基準 |
|----|-------------|----------|---------------------|
| FLEET-UI-A11Y-001 | UIはキーボードナビゲーションをサポートしなければならない（tab、矢印キー、enter、esc） | HIGH | キーボードナビゲーションが機能的 |
| FLEET-UI-A11Y-002 | UIは十分な色コントラストを提供しなければならない（テキストに4.5:1、UIコンポーネントに3:1） | HIGH | 色コントラストが検証される |
| FLEET-UI-A11Y-003 | UIはすべてのインタラクティブ要素にスクリーンリーダー用のARIAラベルを含めなければならない | MEDIUM | ARIAラベルが存在する |
| FLEET-UI-A11Y-004 | UIはフォントサイズ調整をサポートしなければならない（ブラウザズーム100%-200%） | MEDIUM | ズームサポートが検証される |
| FLEET-UI-A11Y-005 | UIは点滅コンテンツを避けなければならない（<1秒あたり3回点滅の発作リスク） | HIGH | 点滅コンテンツなし |

---

## 12. 性能要件

| ID | 要件 | 優先度 | 受入基準 |
|----|-------------|----------|---------------------|
| FLEET-UI-PERF-001 | 初期ページロードはブロードバンド（10 Mbps）で2秒以内に完了しなければならない | HIGH | ロード時間 <2秒 |
| FLEET-UI-PERF-002 | ダッシュボード更新（車両位置）は<5秒レイテンシで発生しなければならない | CRITICAL | 更新レイテンシ <5秒 |
| FLEET-UI-PERF-003 | UIは高負荷時（50+車両、100+ミッション）にレスポンシブを維持しなければならない | HIGH | UIフリーズなし |
| FLEET-UI-PERF-004 | マップレンダリングは遅延なく100+車両マーカーをサポートしなければならない | HIGH | マップがスムーズにレンダリングされる |
| FLEET-UI-PERF-005 | WebSocket再接続は切断後10秒以内に自動的に発生しなければならない | CRITICAL | 再接続 <10秒 |

---

## 13. セキュリティ要件

| ID | 要件 | 優先度 | 受入基準 |
|----|-------------|----------|---------------------|
| FLEET-UI-SEC-001 | UIは任意のページにアクセスする前にログイン（ユーザー名/パスワードまたはSSO）を要求しなければならない | CRITICAL | ログインが強制される |
| FLEET-UI-SEC-002 | UIはセッションタイムアウトを強制しなければならない（30分の非アクティブ） | HIGH | セッションタイムアウトが機能的 |
| FLEET-UI-SEC-003 | UIはユーザーロールに基づいて異なるビューを表示しなければならない（RBAC強制） | CRITICAL | ロールベースビューが検証される |
| FLEET-UI-SEC-004 | UIはXSS攻撃を防ぐためにすべてのユーザー入力をサニタイズしなければならない | CRITICAL | XSS保護が検証される |
| FLEET-UI-SEC-005 | UIはすべての通信にHTTPSを使用しなければならない（TLS 1.3） | CRITICAL | HTTPSが強制される |
| FLEET-UI-SEC-006 | UIはブラウザのlocalStorageに機密データ（パスワード、トークン）を保存してはならない | HIGH | 機密データが安全なストレージに |

---

## 14. 国際化（i18n）要件

| ID | 要件 | 優先度 | 受入基準 |
|----|-------------|----------|---------------------|
| FLEET-UI-I18N-001 | UIは英語（EN）と日本語（JA）言語をサポートしなければならない | HIGH | 両方の言語が利用可能 |
| FLEET-UI-I18N-002 | ユーザーは設定メニューから言語を切り替えられなければならない | HIGH | 言語切り替えが機能的 |
| FLEET-UI-I18N-003 | すべてのUIテキストは翻訳ファイルで外部化されなければならない（i18next） | MEDIUM | 翻訳ファイルが使用される |
| FLEET-UI-I18N-004 | 日付/時刻形式は選択された言語に適応しなければならない（EN: MM/DD/YYYY、JA: YYYY/MM/DD） | MEDIUM | 日付形式がローカライズされる |

---

## 15. 要件サマリー

| カテゴリ | 数 | 優先度内訳 |
|----------|-------|-------------------|
| ダッシュボードと概要 | 14 | Critical: 9、High: 4、Medium: 1 |
| ミッション管理 | 19 | Critical: 9、High: 7、Medium: 2、Low: 1 |
| 予約システム | 9 | Critical: 3、High: 5、Medium: 1 |
| 車両管理 | 13 | Critical: 1、High: 8、Medium: 3、Low: 1 |
| ユーザー管理 | 8 | High: 6、Medium: 2 |
| 警告と通知 | 7 | Critical: 3、High: 3、Medium: 1、Low: 1 |
| 設定と構成 | 8 | High: 3、Medium: 4、Low: 1 |
| 分析とレポート | 7 | Medium: 4、Low: 3 |
| モバイルレスポンシブデザイン | 4 | High: 3、Medium: 1 |
| アクセシビリティ | 5 | High: 3、Medium: 2 |
| 性能 | 5 | Critical: 2、High: 3 |
| セキュリティ | 6 | Critical: 4、High: 2 |
| 国際化 | 4 | High: 2、Medium: 2 |
| **合計** | **109** | **Critical: 31、High: 48、Medium: 23、Low: 7** |

---

## 16. UIワイヤフレーム参考

**メインダッシュボードレイアウト:**
```
┌────────────────────────────────────────────────────────────┐
│ [Logo] フリート管理ダッシュボード  [🔔 5] [👤 Admin] [⚙️]  │
├────────────────────────────────────────────────────────────┤
│  📊 フリート統計:  総数: 10  |  アクティブ: 7  |  充電: 2  │
│                   バッテリー平均: 65%  |  エラー: 1        │
├──────────────────────────────┬─────────────────────────────┤
│                              │  🔴 VEH-03 - バッテリー低下  │
│        マップビュー           │  🟡 VEH-07 - ミッション遅延  │
│    （車両位置、              │  ⚪ VEH-01 - 充電中         │
│     ジオフェンス、経路）      │                             │
│                              │  [車両リスト] [ミッション]  │
│  🚙 🚙 🚙                    │  [予約] [ユーザー]          │
│                              │                             │
└──────────────────────────────┴─────────────────────────────┘
```

---

## 17. トレーサビリティマトリクス

| UI要件カテゴリ | バックエンド要件 | APIエンドポイント |
|------------------------|---------------------|---------------|
| ダッシュボード | FLEET_MANAGEMENT_REQUIREMENTS.md | GET /api/v1/vehicles、WebSocket /vehicles/telemetry |
| ミッション管理 | FLEET_MANAGEMENT_REQUIREMENTS.md | POST /api/v1/missions、GET /missions |
| 予約システム | RESERVATION_SYSTEM_REQUIREMENTS.md | POST /api/v1/reservations、GET /reservations |
| ユーザー管理 | USER_ROLE_MANAGEMENT_REQUIREMENTS.md | POST /api/v1/users、GET /users |

---

## 18. 改訂履歴

| バージョン | 日付 | 作成者 | 変更内容 |
|---------|------|--------|---------|
| 1.0 | 2025-12-16 | Unnoチーム | フリート管理UI要件の初版（109要件） |

---

**文書終了**
